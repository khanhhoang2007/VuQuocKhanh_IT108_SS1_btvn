<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36" version="28.2.3">
  <diagram name="Trang-1" id="qxNECRH9LGO5RQy4f-Sz">
    <mxGraphModel dx="2977" dy="1606" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="NGABZrSEDghTNl0OMJeI-1" value="Bắt đầu" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1140" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-2" value="Chèn thẻ (Insert card)" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="330" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-3" value="Nhập PIN" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="420" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-4" value="PIN đúng?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1110" y="520" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-5" value="Thông báo: Sai PIN" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="850" y="520" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-6" value="Xác thực với ngân hàng (verify)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="640" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-7" value="Chọn: Rút tiền" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="730" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-8" value="Nhập số tiền muốn rút" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="820" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-9" value="Số tiền ≤ số dư tài khoản?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="920" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-10" value="Thông báo: Không đủ tiền trong tài khoản" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="850" y="920" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-11" value="ATM có đủ tiền mặt?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1040" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-12" value="Thông báo: ATM không đủ tiền" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="850" y="1040" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-13" value="Khóa tạm số tiền (reserve)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1160" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-14" value="Gửi lệnh cấp tiền → Dispenser" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1240" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-15" value="Cập nhật số dư trên Core Banking" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1320" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-16" value="Khách có in biên lai?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1400" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-17" value="In biên lai (nếu chọn)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1500" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-18" value="Trả thẻ, hiển thị kết quả (màn hình/biên lai)" style="shape=parallelogram;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1090" y="1580" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-19" value="Kết thúc" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1200" y="1680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-20" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-1" target="NGABZrSEDghTNl0OMJeI-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-21" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-2" target="NGABZrSEDghTNl0OMJeI-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-22" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-3" target="NGABZrSEDghTNl0OMJeI-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-23" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-4" target="NGABZrSEDghTNl0OMJeI-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-24" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-5" target="NGABZrSEDghTNl0OMJeI-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-25" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-18" target="NGABZrSEDghTNl0OMJeI-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-26" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-4" target="NGABZrSEDghTNl0OMJeI-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-27" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-6" target="NGABZrSEDghTNl0OMJeI-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-28" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-7" target="NGABZrSEDghTNl0OMJeI-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-29" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-8" target="NGABZrSEDghTNl0OMJeI-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-30" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-9" target="NGABZrSEDghTNl0OMJeI-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-31" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-10" target="NGABZrSEDghTNl0OMJeI-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-32" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-9" target="NGABZrSEDghTNl0OMJeI-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-33" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-11" target="NGABZrSEDghTNl0OMJeI-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-34" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-12" target="NGABZrSEDghTNl0OMJeI-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-35" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-11" target="NGABZrSEDghTNl0OMJeI-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-36" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-13" target="NGABZrSEDghTNl0OMJeI-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-37" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-14" target="NGABZrSEDghTNl0OMJeI-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-38" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-15" target="NGABZrSEDghTNl0OMJeI-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-39" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-16" target="NGABZrSEDghTNl0OMJeI-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-40" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-17" target="NGABZrSEDghTNl0OMJeI-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-41" edge="1" parent="1" source="NGABZrSEDghTNl0OMJeI-16" target="NGABZrSEDghTNl0OMJeI-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NGABZrSEDghTNl0OMJeI-42" value="&lt;ol data-start=&quot;9255&quot; data-end=&quot;10469&quot;&gt;&lt;li data-start=&quot;9255&quot; data-end=&quot;9375&quot;&gt;&lt;p data-start=&quot;9258&quot; data-end=&quot;9375&quot;&gt;&lt;strong data-start=&quot;9258&quot; data-end=&quot;9275&quot;&gt;Xác thực PIN:&lt;/strong&gt; ATM gửi yêu cầu xác thực PIN tới hệ thống ngân hàng (core banking). Nếu PIN sai → dừng / báo lỗi.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;9376&quot; data-end=&quot;9488&quot;&gt;&lt;p data-start=&quot;9379&quot; data-end=&quot;9488&quot;&gt;&lt;strong data-start=&quot;9379&quot; data-end=&quot;9411&quot;&gt;Xác nhận giao dịch rút tiền:&lt;/strong&gt; sau khi xác thực, hệ thống nhận lựa chọn “Rút tiền” và số tiền khách nhập.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;9489&quot; data-end=&quot;9595&quot;&gt;&lt;p data-start=&quot;9492&quot; data-end=&quot;9595&quot;&gt;&lt;strong data-start=&quot;9492&quot; data-end=&quot;9521&quot;&gt;Kiểm tra số dư tài khoản:&lt;/strong&gt; core banking trả về số dư; nếu số tiền yêu cầu lớn hơn số dư → từ chối.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;9596&quot; data-end=&quot;9699&quot;&gt;&lt;p data-start=&quot;9599&quot; data-end=&quot;9699&quot;&gt;&lt;strong data-start=&quot;9599&quot; data-end=&quot;9630&quot;&gt;Kiểm tra hạn mức &amp;amp; quy tắc:&lt;/strong&gt; kiểm tra hạn mức rút/ngày, hạn mức tối đa/lần; nếu vượt → từ chối.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;9700&quot; data-end=&quot;9835&quot;&gt;&lt;p data-start=&quot;9703&quot; data-end=&quot;9835&quot;&gt;&lt;strong data-start=&quot;9703&quot; data-end=&quot;9735&quot;&gt;Kiểm tra tiền mặt trong ATM:&lt;/strong&gt; kiểm tra cassette (kho tiền) còn đủ các mệnh giá &amp;amp; tổng tiền để cấp lệnh; nếu không đủ → từ chối.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;9836&quot; data-end=&quot;9952&quot;&gt;&lt;p data-start=&quot;9839&quot; data-end=&quot;9952&quot;&gt;&lt;strong data-start=&quot;9839&quot; data-end=&quot;9872&quot;&gt;Khóa tạm tiền (hold/reserve):&lt;/strong&gt; hệ thống khóa tạm số tiền trong tài khoản để tránh tranh chấp khi đang xử lý.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;9953&quot; data-end=&quot;10053&quot;&gt;&lt;p data-start=&quot;9956&quot; data-end=&quot;10053&quot;&gt;&lt;strong data-start=&quot;9956&quot; data-end=&quot;9992&quot;&gt;Gửi lệnh cấp tiền tới Dispenser:&lt;/strong&gt; ATM thực hiện lệnh đến cơ chế cấp tiền vật lý để nhả tiền.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;10054&quot; data-end=&quot;10270&quot;&gt;&lt;p data-start=&quot;10057&quot; data-end=&quot;10270&quot;&gt;&lt;strong data-start=&quot;10057&quot; data-end=&quot;10094&quot;&gt;Xác nhận giao dịch với ngân hàng:&lt;/strong&gt; sau khi tiền cấp thành công, ATM gửi xác nhận để core banking cập nhật số dư thực tế (trừ tiền). Nếu cấp tiền thất bại, thực hiện rollback (hủy khóa, trả tiền về tài khoản).&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;10271&quot; data-end=&quot;10381&quot;&gt;&lt;p data-start=&quot;10274&quot; data-end=&quot;10381&quot;&gt;&lt;strong data-start=&quot;10274&quot; data-end=&quot;10301&quot;&gt;In biên lai (nếu chọn):&lt;/strong&gt; ATM in biên lai ghi rõ số tiền, số dư sau giao dịch, thời gian, mã giao dịch.&lt;/p&gt;&lt;/li&gt;&lt;li data-start=&quot;10382&quot; data-end=&quot;10469&quot;&gt;&lt;p data-start=&quot;10386&quot; data-end=&quot;10469&quot;&gt;&lt;strong data-start=&quot;10386&quot; data-end=&quot;10409&quot;&gt;Trả thẻ &amp;amp; kết thúc:&lt;/strong&gt; ATM trả lại thẻ, hiển thị/ gửi thông báo kết quả giao dịch.&lt;/p&gt;&lt;br&gt;&lt;/li&gt;&lt;br&gt;&lt;/ol&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="600" width="400" height="450" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
